# –¢–µ–∫—É—â–µ–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ –ü—Ä–æ–µ–∫—Ç–∞ (Current State)

**–î–∞—Ç–∞:** 29.11.2025
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ñ–∞–∑–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Phase 6)

## üöÄ –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ –≥–ª—É–±–æ–∫–æ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å - —Ä–∞–∑–æ—Ä–≤–∞—Ç—å –∂–µ—Å—Ç–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ `api`, `ai` –∏ `modules`.

## ‚ö†Ô∏è –¢–µ–∫—É—â–∞—è –ü—Ä–æ–±–ª–µ–º–∞
–û—Å—Ç–∞–ª–∞—Å—å **–æ–¥–Ω–∞** —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
`api -> ai -> modules -> api`

### –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. **API Layer** (`src/api`) –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ **AI Layer** (`src/ai`).
2. **AI Layer** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –∏–∑ **Modules Layer** (`src/modules`).
3. **Modules Layer** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `wiki`, `ml`) –æ–±—Ä–∞—Ç–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–æ—É—Ç–µ—Ä—ã –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ **API Layer**.

## üõ† –ü–æ—Å–ª–µ–¥–Ω–∏–µ –î–µ–π—Å—Ç–≤–∏—è
1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `src/api/orchestrator_api.py`**:
   - –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (Lazy Loading) –¥–ª—è `get_orchestrator`.
   - –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–º–æ—á—å —Ä–∞–∑–æ—Ä–≤–∞—Ç—å —Å–≤—è–∑—å `api -> ai` –≤ —ç—Ç–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ñ–∞–π–ª–µ.

2. **–ê–Ω–∞–ª–∏–∑ `src/modules/wiki/api/routes.py`**:
   - –§–∞–π–ª —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–æ—É—Ç–µ—Ä –∏–∑ `src/api/wiki.py`.
   - –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Å–≤—è–∑—å `modules -> api`.

3. **–ê–Ω–∞–ª–∏–∑ `src/api/council_api.py`**:
   - –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç `from src.ai.orchestrator import get_orchestrator`.
   - **–¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ª–µ–Ω–∏–≤—ã–π –∏–º–ø–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π.

## üìÇ –í–∞–∂–Ω—ã–µ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `src/api`: API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.
- `src/ai`: –õ–æ–≥–∏–∫–∞ –ò–ò –∞–≥–µ–Ω—Ç–æ–≤ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
- `src/modules`: –ë–∏–∑–Ω–µ—Å-–º–æ–¥—É–ª–∏ (Wiki, ML, GitHub –∏ —Ç.–¥.).
- `src/services/common_dependencies.py`: –í—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –æ–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (DB –∫–ª–∏–µ–Ω—Ç—ã) –¥–ª—è —Ä–∞–∑—Ä—ã–≤–∞ —Ü–∏–∫–ª–æ–≤.
- `scripts/architecture`: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (`find_cycles.py`, `analyze_all.py`).

## üìä –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:
```bash
python scripts/architecture/find_cycles.py
```
