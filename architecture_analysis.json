{
  "modules": {
    "ai": {
      "files": 118,
      "lines": 37969,
      "subdirs": 15
    },
    "ai_assistants": {
      "files": 3,
      "lines": 1421,
      "subdirs": 1
    },
    "analytics": {
      "files": 2,
      "lines": 329,
      "subdirs": 1
    },
    "api": {
      "files": 24,
      "lines": 3066,
      "subdirs": 3
    },
    "cache": {
      "files": 2,
      "lines": 10,
      "subdirs": 1
    },
    "components": {
      "files": 0,
      "lines": 0,
      "subdirs": 3
    },
    "core": {
      "files": 3,
      "lines": 3,
      "subdirs": 3
    },
    "cursorext": {
      "files": 4,
      "lines": 328,
      "subdirs": 0
    },
    "data": {
      "files": 1,
      "lines": 172,
      "subdirs": 0
    },
    "db": {
      "files": 6,
      "lines": 1345,
      "subdirs": 1
    },
    "deployment": {
      "files": 1,
      "lines": 514,
      "subdirs": 0
    },
    "exporters": {
      "files": 2,
      "lines": 430,
      "subdirs": 1
    },
    "gbnf_generator": {
      "files": 2,
      "lines": 356,
      "subdirs": 1
    },
    "grpc_server": {
      "files": 4,
      "lines": 875,
      "subdirs": 1
    },
    "infrastructure": {
      "files": 17,
      "lines": 4129,
      "subdirs": 7
    },
    "integrations": {
      "files": 13,
      "lines": 1991,
      "subdirs": 2
    },
    "middleware": {
      "files": 7,
      "lines": 1002,
      "subdirs": 1
    },
    "migration": {
      "files": 1,
      "lines": 233,
      "subdirs": 0
    },
    "ml": {
      "files": 25,
      "lines": 6315,
      "subdirs": 8
    },
    "modules": {
      "files": 327,
      "lines": 31345,
      "subdirs": 40
    },
    "monitoring": {
      "files": 6,
      "lines": 1599,
      "subdirs": 1
    },
    "optimization": {
      "files": 1,
      "lines": 266,
      "subdirs": 0
    },
    "pages": {
      "files": 0,
      "lines": 0,
      "subdirs": 0
    },
    "parsers": {
      "files": 1,
      "lines": 378,
      "subdirs": 1
    },
    "performance": {
      "files": 1,
      "lines": 267,
      "subdirs": 0
    },
    "resilience": {
      "files": 1,
      "lines": 342,
      "subdirs": 1
    },
    "revolutionary": {
      "files": 3,
      "lines": 607,
      "subdirs": 3
    },
    "security": {
      "files": 10,
      "lines": 2333,
      "subdirs": 2
    },
    "services": {
      "files": 54,
      "lines": 16598,
      "subdirs": 4
    },
    "static": {
      "files": 0,
      "lines": 0,
      "subdirs": 1
    },
    "telegram": {
      "files": 7,
      "lines": 1365,
      "subdirs": 0
    },
    "tests": {
      "files": 7,
      "lines": 3074,
      "subdirs": 2
    },
    "utils": {
      "files": 7,
      "lines": 1616,
      "subdirs": 1
    },
    "vlm_server": {
      "files": 3,
      "lines": 348,
      "subdirs": 1
    },
    "workers": {
      "files": 2,
      "lines": 44,
      "subdirs": 0
    }
  },
  "dependencies": {
    "config.py": [
      "config"
    ],
    "database.py": [
      "infrastructure"
    ],
    "main.py": [
      "middleware",
      "infrastructure",
      "utils",
      "modules",
      "api",
      "services",
      "ai"
    ],
    "ai": [
      "ml",
      "infrastructure",
      "utils",
      "config",
      "integrations",
      "database",
      "db",
      "modules",
      "security",
      "services",
      "monitoring"
    ],
    "ai_assistants": [
      "config"
    ],
    "api": [
      "middleware",
      "ml",
      "utils",
      "config",
      "database",
      "main",
      "db",
      "exporters",
      "modules",
      "security",
      "services",
      "monitoring",
      "ai"
    ],
    "cache": [
      "infrastructure"
    ],
    "data": [
      "db",
      "infrastructure"
    ],
    "db": [
      "utils",
      "infrastructure"
    ],
    "exporters": [
      "utils",
      "db",
      "modules"
    ],
    "middleware": [
      "utils",
      "monitoring",
      "modules"
    ],
    "migration": [
      "infrastructure"
    ],
    "ml": [
      "utils",
      "config"
    ],
    "modules": [
      "middleware",
      "ml",
      "gbnf_generator",
      "infrastructure",
      "utils",
      "config",
      "database",
      "ai_assistants",
      "db",
      "security",
      "api",
      "services",
      "monitoring",
      "ai"
    ],
    "monitoring": [
      "utils",
      "infrastructure"
    ],
    "optimization": [
      "utils"
    ],
    "performance": [
      "infrastructure"
    ],
    "security": [
      "utils",
      "database"
    ],
    "services": [
      "resilience",
      "ml",
      "utils",
      "config",
      "database",
      "db",
      "parsers",
      "monitoring",
      "ai"
    ],
    "telegram": [
      "utils",
      "services",
      "ai"
    ],
    "tests": [
      "ml"
    ]
  },
  "complexity": {
    "config.py": {
      "functions": 4,
      "classes": 1,
      "files": 1
    },
    "verify_refactoring.py": {
      "functions": 2,
      "classes": 0,
      "files": 1
    },
    "ai": {
      "functions": 592,
      "classes": 216,
      "files": 104
    },
    "ai_assistants": {
      "functions": 46,
      "classes": 23,
      "files": 2
    },
    "analytics": {
      "functions": 12,
      "classes": 3,
      "files": 1
    },
    "api": {
      "functions": 11,
      "classes": 25,
      "files": 10
    },
    "cursorext": {
      "functions": 29,
      "classes": 3,
      "files": 3
    },
    "data": {
      "functions": 9,
      "classes": 1,
      "files": 1
    },
    "db": {
      "functions": 37,
      "classes": 6,
      "files": 4
    },
    "deployment": {
      "functions": 5,
      "classes": 4,
      "files": 1
    },
    "exporters": {
      "functions": 7,
      "classes": 2,
      "files": 2
    },
    "gbnf_generator": {
      "functions": 9,
      "classes": 1,
      "files": 1
    },
    "grpc_server": {
      "functions": 22,
      "classes": 12,
      "files": 2
    },
    "infrastructure": {
      "functions": 89,
      "classes": 31,
      "files": 10
    },
    "integrations": {
      "functions": 36,
      "classes": 17,
      "files": 12
    },
    "middleware": {
      "functions": 11,
      "classes": 7,
      "files": 6
    },
    "migration": {
      "functions": 7,
      "classes": 2,
      "files": 1
    },
    "ml": {
      "functions": 203,
      "classes": 46,
      "files": 17
    },
    "modules": {
      "functions": 495,
      "classes": 441,
      "files": 169
    },
    "monitoring": {
      "functions": 38,
      "classes": 4,
      "files": 3
    },
    "optimization": {
      "functions": 5,
      "classes": 1,
      "files": 1
    },
    "parsers": {
      "functions": 12,
      "classes": 1,
      "files": 1
    },
    "performance": {
      "functions": 4,
      "classes": 2,
      "files": 1
    },
    "resilience": {
      "functions": 10,
      "classes": 6,
      "files": 1
    },
    "revolutionary": {
      "functions": 21,
      "classes": 8,
      "files": 3
    },
    "security": {
      "functions": 59,
      "classes": 22,
      "files": 8
    },
    "services": {
      "functions": 372,
      "classes": 102,
      "files": 51
    },
    "telegram": {
      "functions": 12,
      "classes": 3,
      "files": 4
    },
    "tests": {
      "functions": 84,
      "classes": 12,
      "files": 5
    },
    "utils": {
      "functions": 36,
      "classes": 11,
      "files": 7
    },
    "vlm_server": {
      "functions": 1,
      "classes": 1,
      "files": 1
    }
  },
  "issues": [
    {
      "severity": "high",
      "module": "ai",
      "issue": "Слишком много файлов (118)",
      "recommendation": "Разделить на подмодули"
    },
    {
      "severity": "high",
      "module": "modules",
      "issue": "Слишком много файлов (327)",
      "recommendation": "Разделить на подмодули"
    },
    {
      "severity": "medium",
      "module": "main",
      "issue": "main.py слишком большой (687 строк)",
      "recommendation": "Вынести логику в отдельные модули"
    },
    {
      "severity": "low",
      "module": "ai, ai_assistants",
      "issue": "Похожие названия модулей",
      "recommendation": "Возможно объединить или переименовать"
    }
  ],
  "recommendations": [
    {
      "priority": "critical",
      "action": "Реструктуризация modules/",
      "description": "Разделить 327 файлов на доменные подмодули",
      "effort": "high"
    },
    {
      "priority": "high",
      "action": "Внедрить Dependency Injection",
      "description": "Улучшит тестируемость и модульность",
      "effort": "medium"
    },
    {
      "priority": "medium",
      "action": "Создать architecture tests",
      "description": "Автоматическая проверка архитектурных правил",
      "effort": "low"
    }
  ]
}